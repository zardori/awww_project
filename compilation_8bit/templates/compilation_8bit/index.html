{% load static %}
{% csrf_token %}

<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href = {% static "compilation_8bit/all_compressed.css" %} >
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script>

        // Code to get csrf token took from djangoproject.com
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    // Does this cookie string begin with the name we want?
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        const csrftoken = getCookie('csrftoken');


        const get_file_system_url = "{% url 'compilation_8bit:get_file_system' %}"
        const del_dir_url = "{% url 'compilation_8bit:del_dir' %}"
        const del_file_url = "{% url 'compilation_8bit:del_file' %}"
        const add_file_url = "{% url 'compilation_8bit:add_file' %}"
        const get_compilation_standard_url = "{%  url 'compilation_8bit:get_compilation_standard' %}"
        const select_file_url = "{% url 'compilation_8bit:select_file' %}"

    </script>
    <script src =  {% static "compilation_8bit/tabs.js" %}></script>
    <script src = {% static "compilation_8bit/menu_buttons.js" %}></script>
    <script src = {% static "compilation_8bit/file_system_tree.js" %}></script>
    <script src = {% static "compilation_8bit/compile_options.js" %}></script>
    <script src = {% static "compilation_8bit/onload.js" %}></script>
    <title>Title</title>
</head>
<body>
    <div id = "main_box">
        <div id = "nav_bar" >
            <button id = "file_selection_opener" class = "toggle_button nav_bar_toggle_button">  <img alt = "open dir" src = {% static "compilation_8bit/dir_icon.png" %} >  </button>
            <button id = "file_selection_closer" class = "toggle_button nav_bar_toggle_button"> close </button>
            <button id = "menu_opener" class = "toggle_button nav_bar_toggle_button"> open menu </button>
            <button id = "menu_closer" class = "toggle_button nav_bar_toggle_button"> close </button>
            <div id = "menu" >
                <div class = "menu_item" > File </div>
                <div class = "menu_item" > Edit </div>
                <div class = "menu_item" > View </div>
                <div class = "menu_item" > Navigate </div>
            </div>
        </div>
        <div id = "tabs_wrapper">
            <div id = "tabs" >
                <div id = "tabs_bar" >
                    <div id = "tab_button_0" class = "tab_button"> STANDARD </div>
                    <div id = "tab_button_1" class = "tab_button"> OPTYMALIZACJE </div>
                    <div id = "tab_button_2" class = "tab_button"> PROCESOR </div>
                    <div id = "tab_button_3" class = "tab_button"> ZALEÅ»NE </div>
                </div>
                <div id = "tabs_content">
                    <div id = "tab_content_0" class = "tab_content">

{#                        <input type="radio" id="html" name="fav_language" value="HTML">#}
{#                        <label for="html">HTML</label><br>#}
{#                        <input type="radio" id="css" name="fav_language" value="CSS">#}
{#                        <label for="css">CSS</label><br>#}
{#                        <input type="radio" id="javascript" name="fav_language" value="JavaScript">#}
{#                        <label for="javascript">JavaScript</label>#}
                    </div>
                    <div id = "tab_content_1" class = "tab_content"> tab content 1 </div>
                    <div id = "tab_content_2" class = "tab_content"> tab content 2 </div>
                    <div id = "tab_content_3" class = "tab_content"> tab content 3 </div>
                </div>
            </div>
        </div>

        <div id = "program_code" class = "has_main_style">
            {% if selected_file %}
                <pre>{{ selected_file.content }}</pre>
            {% endif %}
        </div>
        <div id = "file_selection" >
{% comment %}            <div class = "file_system_item" >
                main_dir
                <div class = "file_system_item" >
                    dir1
                    <div class = "file_system_item"> file_a </div>
                    <div class = "file_system_item"> file_b </div>
                </div>
                <div class = "file_system_item">
                    dir2
                    <div class = "file_system_item"> file_c </div>
                    <div class = "file_system_item"> file_d </div>
                </div>

            </div>{% endcomment %}

        </div>
        <div id = "code_part" class = "has_main_style"> <pre><code>
    void display_number(uint32_t number) {
        uint8_t pos=1;
        if (number == 0)
            output_max(pos++, 0);
        while (number &gt; 0) {
            uint8_t digit = number % 10;
            output_max(pos++, digit);
            number /= 10;
        }
        // clear rest of digits
        while (pos &lt;= 8) {
            output_max(pos++, 0xf);
        }
    }

        </code></pre> </div>

        <!-- Buttons for mobile version -->
        <button id = "tabs_opener" class = "toggle_button tabs_toggle_button"> open tabs </button>
        <button id = "tabs_closer" class = "toggle_button tabs_toggle_button"> close </button>

    </div>

</body>
</html>